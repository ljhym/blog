import{e as a,j as e,v as t,o as l,q as s,l as o,a as i,k as n,c as p,m as d,F as r,u as c,a8 as u}from"./index-CeM-j0YW.js";import{t as m,E as f,a as g}from"./blogType.D10MjV8r.js";import{_ as y}from"./article-list.B1j4JH57.js";import{_ as v,D as h,r as D,a as _,E as j,F as b}from"./devibeans.7kJiWaPG.js";import{e as x,c as w,_ as S}from"./utils.AidqOaYn.js";import{E as V}from"./focus-trap.BEm9k0Zy.js";const k=v({__name:"morecode",setup(v){a((()=>{document.title="文章列表"}));const k=e({list:[],noData:!1,loading:!1,page:1,pageSize:10,type:0,title:"",defaultval:"js",typearr:m});function z(){k.page=1,k.noData=!1,k.list=[],E()}function C(){k.page=1,k.noData=!1,k.list=[],F()}async function E(){let a={page:k.page,pageSize:k.pageSize,type:k.type};if(k.title&&(a={...a,title:k.title}),k.noData)return;if(k.loading)return;k.loading=!0;let e=await x(a);k.loading=!1,e.data.length<k.pageSize?k.noData=!0:k.noData=!1,e.data&&(k.list=k.list.concat(w(e.data)),k.page+=1)}function F(){E()}return h((()=>{F()})),E(),(a,e)=>{const m=g,v=f,h=j,x=V,w=D(t("article-list"),y),E=D(t("them-btn"),S),F=D(t("page-view"),_);return l(),s(F,null,{default:o((()=>[i("div",{class:"page"},[i("div",{class:"mymax"},[i("div",{style:{height:"52px",width:"100%"}}),i("div",{class:"flextop fixclas"},[n(x,{modelValue:k.title,"onUpdate:modelValue":e[1]||(e[1]=a=>k.title=a),onKeydown:u(C,["enter"]),onSearch:C,"confirm-type":"search",onConfirm:C,placeholder:"请输入搜索标题",class:"input-with-select"},{prepend:o((()=>[n(v,{onChange:z,modelValue:k.type,"onUpdate:modelValue":e[0]||(e[0]=a=>k.type=a),placeholder:"Select",style:{width:"100px"}},{default:o((()=>[(l(!0),p(r,null,d(k.typearr,(a=>(l(),s(m,{label:a.label,value:a.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),append:o((()=>[n(h,{style:{"border-left":"none"},onClick:C,icon:c(b)},null,8,["icon"])])),_:1},8,["modelValue"])]),n(w,{list:k.list},null,8,["list"]),k.loading?(l(),p("div",{key:0,class:"noData"},"正在加载，请稍后...")):k.noData?(l(),p("div",{key:1,class:"noData"},"没有更多数据")):(l(),p("div",{key:2,class:"noData"},"下滑加载更多"))])]),n(E)])),_:1})}}},[["__scopeId","data-v-922d9e7a"]]);export{k as default};
