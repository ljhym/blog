import{_ as a,e,j as t,ag as l,v as s,x as o,o as i,q as n,l as d,A as p,a as r,k as c,c as u,m,F as g,u as f,ad as y}from"./index-JdodzDdN.js";import{t as v,E as h,a as D}from"./blogType.DoKu8GB3.js";import{_}from"./article-list.CjkM0E5p.js";import{_ as j,E as x,z as b}from"./devibeans.CyGp03w2.js";import{c as w}from"./editblog.zWuJMevQ.js";import{E as S}from"./focus-trap.BSTXZjDv.js";const V=a({__name:"morecode",setup(a){e((()=>{document.title="文章列表"}));const V=t({list:[],noData:!1,loading:!1,page:1,pageSize:10,type:0,title:"",defaultval:"js",typearr:v});function k(){V.page=1,V.noData=!1,V.list=[],C()}function z(){V.page=1,V.noData=!1,V.list=[],E()}async function C(){let a={page:V.page,pageSize:V.pageSize,type:V.type};if(V.title&&(a={...a,title:V.title}),V.noData)return;if(V.loading)return;V.loading=!0;let e=await w(a);V.loading=!1,e.data.length<V.pageSize?V.noData=!0:V.noData=!1,e.data&&(V.list=V.list.concat(p(e.data)),V.page+=1)}function E(){C()}return l((()=>{E()})),C(),(a,e)=>{const t=D,l=h,p=x,v=S,w=s(o("article-list"),_),C=s(o("page-view"),j);return i(),n(C,null,{default:d((()=>[r("div",{class:"page"},[r("div",{class:"mymax"},[r("div",{style:{height:"52px",width:"100%"}}),r("div",{class:"flextop fixclas"},[c(v,{modelValue:V.title,"onUpdate:modelValue":e[1]||(e[1]=a=>V.title=a),onKeydown:y(z,["enter"]),onSearch:z,"confirm-type":"search",onConfirm:z,placeholder:"请输入搜索标题",class:"input-with-select"},{prepend:d((()=>[c(l,{onChange:k,modelValue:V.type,"onUpdate:modelValue":e[0]||(e[0]=a=>V.type=a),placeholder:"Select",style:{width:"100px"}},{default:d((()=>[(i(!0),u(g,null,m(V.typearr,(a=>(i(),n(t,{label:a.label,value:a.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),append:d((()=>[c(p,{style:{"border-left":"none"},onClick:z,icon:f(b)},null,8,["icon"])])),_:1},8,["modelValue"])]),c(w,{list:V.list},null,8,["list"]),V.loading?(i(),u("div",{key:0,class:"noData"},"正在加载，请稍后...")):V.noData?(i(),u("div",{key:1,class:"noData"},"没有更多数据")):(i(),u("div",{key:2,class:"noData"},"下滑加载更多"))])])])),_:1})}}},[["__scopeId","data-v-023d303d"]]);export{V as default};
